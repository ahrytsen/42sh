tests=(
# {X,Y,..}
"{1,2}"
"{1,2,3}"
"{asd,OO,I}"
"{asd,OO,I,}"
"{,,,п}"
"{ыдваодыл,˚©¨¨˚,askjdfhksjdhf,a,,,,dlaksd,,d,,,,,,,,,,,,,}"
# {X,Y,..} (invalid)
"{{{{{"
"\0"
"{}"
"{}}}}"
"{}{}{"
"a"
# {X..Y} (valid)
"{A..D}"
"{D..A}"
"{g..y}"
"{y..g}"
"{A..Z}"
"{Z..A}"
"{a..z}"
"{z..a}"
"{3..8}"
"{8..3}"
"{1..100}"
"{100..1}"
"{+..4}"
"{4..+}"
"{#..=}"
"{=..#}"
"{z..9}"
"{9..z}"
"{+1..-1}"
"{1..-1}"
"{1..1}"
"{+10..-100}"
"{-200..-200}"
"{2..+20}"
"{++20..2}"
"{100..--1}"
# {X..Y} (invalid)
"{1d..2}"
"{1..d3}"
"{1..2{}}"
"{1..}"
"{..1}"
"{2..,}"
"{2,..}"
"{,2..}"
"{..,8}"
"{..8,}"
"{U..90}"
"{90..U}"
# X{...}Y
"a{1,2}"
"{1,2}b"
"a{1,2}b"
"a{HH,K,l}98{15..9}"
"a{1,,,,}O"
"a{,,,,}O"
"a{1..3,}b"
"kj{9..+}i"
"\`echo kek\`{,}"
# MATRIOSHKA
"{1,2,{3,4}}"
"{1,2,{3,4},}"
"{1,2,{3,4,{5,6,{7,8},9,10}}}"
"{{{,}}}"
"{{{,},}}"
"{{{,},}и}"
"{{kskd,0{9..20}00,}{rt{,,},}}"
"{{kskd,0{9.,.20}00,}{rt{,,},}}"
"a{{{8,}{9,},}o{2..1},{,,}}"
# QUOTED
"\{1,2}"
"{1,2\}"
"{1\,2}"
"\s{1,2}"
"\"{\"1,2}"
"\"\"\"{1,2}\""
"\"a\"{3..6}\"\""
"{1,2,{3,\}}}"
"\{{,}}"
"{a','b}"
"{1.'.'2}"
'{""""}'
# subshell
'$(ls {3,4})'
'{1..3}$({a..b}){1,2}'
'a{1,$({a..b}{A..B})}'
'{1,2}$(({3,4}))'
'$({3,4,$(({a..c}))})'
'`{1,2}`{,,}'
'{`,}`'
)
